@model MyTravelsVM
<script src="~/Scripts/canvasjs.min.js"></script>

<script type="text/javascript">
    window.onload = function () {
        var pieChart = new CanvasJS.Chart("chartContainer",
        {
            title: {
                text: "Your most popular vehicle choices"
            },
            animationEnabled: true,
            legend: {
                verticalAlign: "center",
                horizontalAlign: "left",
                fontSize: 20,
                fontFamily: "Helvetica"
            },
            theme: "theme2",
            data: [
            {
                type: "pie",
                indexLabelFontFamily: "Garamond",
                indexLabelFontSize: 20,
                indexLabel: "{label} {y}",
                startAngle: -20,
                showInLegend: true,
                toolTipContent: "{legendText} {y}",
                dataPoints: [
                    { y: @Model.TravelsByCar, legendText: "Car", label: "Car" },
                    { y: @Model.TravelsByTrain, legendText: "Train", label: "Train" },
                    { y: @Model.TravelsByBus, legendText: "Bus", label: "Bus" },
                    { y: @Model.TravelsByMotorcycle, legendText: "Motorcycle", label: "Motorcycle" },
                    { y: @Model.TravelsByBicycling, legendText: "Bicycle", label: "Bicycle" },
                  { y: @Model.TravelsByWalking, legendText: "Walking", label: "Walking" }
                ]
            }
            ]
        });

        pieChart.render();
        pieChart = {};

        var columnChart = new CanvasJS.Chart("chartContainer2",
  {
      title:{
          text: "Your emission values"
      },
      animationEnabled: true,
      axisY: {
          title: "Emissions"
      },
      legend: {
          verticalAlign: "bottom",
          horizontalAlign: "center"
      },
      theme: "theme2",
      data: [

      {
          type: "column",
          showInLegend: true,
          legendMarkerColor: "Green",
          legendText: "Values are shown in Kilos",
          dataPoints: [
          {y: @(Model.Co2Max.Co2/1000), label: "Highest emission"},
          {y: @(Model.Co2Average/1000),  label: "Average emission" },
          {y: @(Model.Co2Min.Co2/1000),  label: "Meadian emission"},
          {y: @(Model.Co2Min.Co2/1000), label: "Lowest emission"}
          ]
      }
      ]
  });

        columnChart.render();
        columnChart = {};

        var pieChartCities = new CanvasJS.Chart("chartContainer3",
{
    title: {
        text: "Most visited cities"
    },
    animationEnabled: true,
    legend: {
        verticalAlign: "center",
        horizontalAlign: "left",
        fontSize: 20,
        fontFamily: "Helvetica"
    },
    theme: "theme2",
    data: [
    {
        type: "pie",
        indexLabelFontFamily: "Garamond",
        indexLabelFontSize: 20,
        indexLabel: "{label} {y}",
        startAngle: -20,
        showInLegend: true,
        toolTipContent: "{legendText} {y}",
        dataPoints: [
            { y: @Model.CityStatistics[0].TimesVisited, legendText: "@Model.CityStatistics[0].CityName", label: "@Model.CityStatistics[0].CityName"},
            { y: @Model.CityStatistics[1].TimesVisited, legendText: "@Model.CityStatistics[1].CityName", label: "@Model.CityStatistics[1].CityName"},
            { y: @Model.CityStatistics[2].TimesVisited, legendText: "@Model.CityStatistics[2].CityName", label: "@Model.CityStatistics[2].CityName"},
            { y: @Model.CityStatistics[3].TimesVisited, legendText: "@Model.CityStatistics[3].CityName", label: "@Model.CityStatistics[3].CityName"},
            { y: @Model.CityStatistics[4].TimesVisited, legendText: "@Model.CityStatistics[4].CityName", label: "@Model.CityStatistics[4].CityName"},
          { y: @Model.CityStatistics[5].TimesVisited, legendText: "@Model.CityStatistics[5].CityName", label: "@Model.CityStatistics[5].CityName"}
        ]
    }
    ]
});

        pieChartCities.render();
        pieChartCities = {};
    }

</script>

<div class="row">

    <div class="col-md-6">

        <div id="chartContainer" style="height: 500px; width: 100%;"></div>
    </div>

    <div class="col-md-6">

        <div id="chartContainer2" style="height: 500px; width: 100%;"></div>

    </div>

    <div class="col-md-6">

        <div id="chartContainer3" style="height: 500px; width: 100%;"></div>

    </div>

</div>
@for (int i = 0; i < Model.TravelInfo.Count; i++)
{
    <li>Transport: @Model.TravelInfo[i].Transport</li>
    <li>Emissioner: @Model.TravelInfo[i].Co2</li>
    <li>IdNummer: @Model.TravelInfo[i].Id</li>
    <li>Datum: @Model.TravelInfo[i].Date</li>
    <li>Antal träd: @Model.TravelInfo[i].TreeCount</li>
    <li>Längd: @Model.TravelInfo[i].Distance</li>
    <li>Från: @Model.TravelInfo[i].FromAddress</li>
    <li>Till: @Model.TravelInfo[i].ToAddress</li>
    <li>Användar id: @Model.TravelInfo[i].UserId</li>
    <br />
}




@section Script{
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbQKAwOCdTQ2xE8c5Nnxn4AkQYgAFhXUw&libraries=places"></script>
    <script src="~/Scripts/Map.js"></script>
    <script src="~/Scripts/Styling.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/mvc/5.2.3/jquery.validate.unobtrusive.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.js"></script>
    <script src="~/Scripts/Login.js"></script>
    <script>checkIsLoggedIn()</script>
}


